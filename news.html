<!DOCTYPE html>
<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Ø§Ù„Ø£Ø®Ø¨Ø§Ø± â€“ Khotwa</title>

  <meta name="keywords" content="Ø£Ø®Ø¨Ø§Ø± Ø®Ø·ÙˆØ©, Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø¬Ù„Ø³, ÙØ¹Ø§Ù„ÙŠØ§Øª Ø®Ø·ÙˆØ©, Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø·Ù„Ø§Ø¨, Ø¬Ø§Ù…Ø¹Ø© Ù„Ø§ ØªØ±ÙˆØ¨, Ù…Ù„Ø¨ÙˆØ±Ù†">
  <meta name="description" content="Ø¢Ø®Ø± Ø£Ø®Ø¨Ø§Ø± ÙˆØ¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ø¬Ù„Ø³ Ø·Ù„Ø§Ø¨ Ø®Ø·ÙˆØ©.">
  <link rel="canonical" href="https://khotwastudentcouncil.com/news.html"/>
  <meta name="robots" content="index,follow"/>

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
  <link rel="icon" href="/assets/favicon.ico">

  <!-- Theme color -->
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#0a0f1a" media="(prefers-color-scheme: dark)">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/pagination.css">
  <link rel="stylesheet" href="/assets/advanced-filters.css">
  <link rel="stylesheet" href="/assets/feedback.css">
  <link rel="stylesheet" href="/assets/comments-and-registration.css"/>

  <script src="/assets/khotwa-api.js?v=1766974489"></script>
  <link rel="stylesheet" href="/assets/design-system.css">
  <link rel="stylesheet" href="/assets/khotwa-redesign.css">
    <link rel="stylesheet" href="assets/enhanced-navbar.css">
</head>

<body>

  <link rel="stylesheet" href="/assets/feedback.css">
  <link rel="alternate" type="application/rss+xml" title="Ø£Ø®Ø¨Ø§Ø± Ù…Ø¬Ù„Ø³ Ø·Ù„Ø§Ø¨ Ø®Ø·ÙˆØ©" href="/feed.xml">
  <link rel="stylesheet" href="/assets/comments-and-registration.css"/>
  <script src="/assets/khotwa-api.js?v=1766974489"></script>
  <link rel="stylesheet" href="/assets/design-system.css">
  <link rel="stylesheet" href="/assets/enhanced-navbar.css">
  <link rel="stylesheet" href="/assets/khotwa-redesign.css">
</head>
<body>
  <!-- Skip link (Ù„ØºØªÙŠÙ†) -->
  <a class="skip-link" href="#main" data-lang="ar">ØªØ®Ø·Ù‘Ù Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</a>
  <a class="skip-link" href="#main" data-lang="en" hidden aria-hidden="true">Skip to content</a>

  <!-- Navbar -->
<!-- Navbar -->
  <nav class="navbar" aria-label="Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ">
    <div class="container nav-inner">
      <a class="brand" href="/index.html" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
        <img src="/assets/apple-touch-icon.png" class="logo" alt="Ø´Ø¹Ø§Ø± Ù…Ø¬Ù„Ø³ Ø·Ù„Ø§Ø¨ Ø®Ø·ÙˆØ©" width="40" height="40" decoding="async" loading="lazy">
        <span data-lang="ar">Ù…Ø¬Ù„Ø³ Ø·Ù„Ø§Ø¨ Ø®Ø·ÙˆØ©</span>
        <span data-lang="en" hidden aria-hidden="true">Khotwa Student Council</span>
      </a>

      <button id="menu-toggle" class="menu-toggle" type="button"
              aria-controls="primary-nav" aria-expanded="false" aria-label="ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16"/></svg>
        <span data-lang="ar">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</span><span data-lang="en" hidden aria-hidden="true">Menu</span>
      </button>

      <div class="nav-links" id="primary-nav" data-open="false" aria-hidden="true">
        <a href="/index.html"><span data-lang="ar">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span><span data-lang="en" hidden aria-hidden="true">Home</span></a>
        
        <!-- Mega Menu: Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ -->
        <div class="nav-item-mega" data-mega="programs">
          <button class="nav-link-mega" aria-expanded="false" aria-controls="mega-programs">
            <span data-lang="ar">Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬</span>
            <span data-lang="en" hidden aria-hidden="true">Programs</span>
            <svg viewBox="0 0 20 20" width="16" height="16" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/></svg>
          </button>
          <div class="mega-menu" id="mega-programs" hidden>
            <div class="mega-menu-inner">
              <div class="mega-column">
                <h3 data-lang="ar">Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</h3>
                <h3 data-lang="en" hidden aria-hidden="true">News & Events</h3>
                <a href="/news.html"><span data-lang="ar">ğŸ“° Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</span><span data-lang="en" hidden aria-hidden="true">ğŸ“° News</span></a>
                <a href="/events.html"><span data-lang="ar">ğŸ“… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</span><span data-lang="en" hidden aria-hidden="true">ğŸ“… Events</span></a>
                <a href="/calendar.html"><span data-lang="ar">ğŸ—“ï¸ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</span><span data-lang="en" hidden aria-hidden="true">ğŸ—“ï¸ Calendar</span></a>
              </div>
              <div class="mega-column">
                <h3 data-lang="ar">Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ¨</h3>
                <h3 data-lang="en" hidden aria-hidden="true">Development & Training</h3>
                <a href="/courses.html"><span data-lang="ar">ğŸ“ Ø§Ù„Ø¯ÙˆØ±Ø§Øª ÙˆØ§Ù„ÙˆØ±Ø´</span><span data-lang="en" hidden aria-hidden="true">ğŸ“ Courses & Workshops</span></a>
                <a href="/volunteers.html"><span data-lang="ar">â¤ï¸ Ø§Ù„ÙØ±Øµ Ø§Ù„ØªØ·ÙˆØ¹ÙŠØ©</span><span data-lang="en" hidden aria-hidden="true">â¤ï¸ Volunteer Opportunities</span></a>
              </div>
            </div>
          </div>
        </div>

        <!-- Mega Menu: Ø¹Ù† Ø§Ù„Ù…Ø¬Ù„Ø³ -->
        <div class="nav-item-mega" data-mega="council">
          <button class="nav-link-mega" aria-expanded="false" aria-controls="mega-council">
            <span data-lang="ar">Ø¹Ù† Ø§Ù„Ù…Ø¬Ù„Ø³</span>
            <span data-lang="en" hidden aria-hidden="true">About Council</span>
            <svg viewBox="0 0 20 20" width="16" height="16" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/></svg>
          </button>
          <div class="mega-menu" id="mega-council" hidden>
            <div class="mega-menu-inner">
              <div class="mega-column">
                <h3 data-lang="ar">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù†Ø§</h3>
                <h3 data-lang="en" hidden aria-hidden="true">About Us</h3>
                <a href="/about.html"><span data-lang="ar">ğŸ‘¥ Ù…Ù† Ù†Ø­Ù†</span><span data-lang="en" hidden aria-hidden="true">ğŸ‘¥ About Us</span></a>
                <a href="/gallery.html"><span data-lang="ar">ğŸ“¸ Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</span><span data-lang="en" hidden aria-hidden="true">ğŸ“¸ Gallery</span></a>
                <a href="/faq.html"><span data-lang="ar">â“ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</span><span data-lang="en" hidden aria-hidden="true">â“ FAQ</span></a>
              </div>
            </div>
          </div>
        </div>

        <a href="/contact.html"><span data-lang="ar">Ø§ØªØµÙ„ Ø¨Ù†Ø§</span><span data-lang="en" hidden aria-hidden="true">Contact</span></a>
        
        <button class="lang-toggle" id="lang-toggle" type="button" aria-label="ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©">
          <span data-lang="ar">English</span><span data-lang="en" hidden aria-hidden="true">Ø¹Ø±Ø¨ÙŠ</span>
        </button>
      </div>
    </div>
  </nav>

<main class="container" id="main">

<section>
  <h1 data-lang="ar">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h1>
  <h1 data-lang="en" hidden aria-hidden="true">News</h1>
  <p class="muted" data-lang="ar">ÙƒÙ„ Ø¬Ø¯ÙŠØ¯ Ø¹Ù† Ù…Ø¬Ù„Ø³ Ø·Ù„Ø§Ø¨ Ø®Ø·ÙˆØ©</p>
  <p class="muted" data-lang="en" hidden aria-hidden="true">All the latest from Khotwa Student Council</p>

  <div class="tools">
    <input id="q" type="search" data-lang-placeholder-ar="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±â€¦" data-lang-placeholder-en="Search newsâ€¦" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±â€¦">

    <button class="chip" data-filter="all" data-active="true">
      <span data-lang="ar">Ø§Ù„ÙƒÙ„</span>
      <span data-lang="en" hidden aria-hidden="true">All</span>
    </button>
    <button class="chip" data-filter="ann">
      <span data-lang="ar">Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</span>
      <span data-lang="en" hidden aria-hidden="true">Announcements</span>
    </button>
    <button class="chip" data-filter="event">
      <span data-lang="ar">ÙØ¹Ø§Ù„ÙŠØ§Øª</span>
      <span data-lang="en" hidden aria-hidden="true">Events</span>
    </button>
    <button class="chip" data-filter="media">
      <span data-lang="ar">ØªØºØ·ÙŠØ§Øª</span>
      <span data-lang="en" hidden aria-hidden="true">Coverage</span>
    </button>
  </div>
</section>

<section>
  <div class="grid grid-3" id="posts">
    <div class="skeleton"></div>
    <div class="skeleton"></div>
    <div class="skeleton"></div>
  </div>
</section>

</main>

<footer>
  <div class="container foot">
    <span>Â© <span id="year"></span> Khotwa Student Council</span>
  </div>
</footer>

<script>
// Mega Menu functionality
document.addEventListener('DOMContentLoaded', function() {
  const megaItems = document.querySelectorAll('.nav-item-mega');
  
  megaItems.forEach(item => {
    const button = item.querySelector('.nav-link-mega');
    const menu = item.querySelector('.mega-menu');
    
    if (!button || !menu) return;
    
    // Desktop: hover
    item.addEventListener('mouseenter', () => {
      if (window.innerWidth > 980) {
        menu.hidden = false;
        button.setAttribute('aria-expanded', 'true');
      }
    });
    
    item.addEventListener('mouseleave', () => {
      if (window.innerWidth > 980) {
        menu.hidden = true;
        button.setAttribute('aria-expanded', 'false');
      }
    });
    
    // Mobile: click
    button.addEventListener('click', (e) => {
      if (window.innerWidth <= 980) {
        e.preventDefault();
        const isOpen = !menu.hidden;
        menu.hidden = isOpen;
        button.setAttribute('aria-expanded', !isOpen);
      }
    });
  });
  
  // Close all menus on resize
  window.addEventListener('resize', () => {
    document.querySelectorAll('.mega-menu').forEach(menu => {
      menu.hidden = true;
    });
    document.querySelectorAll('.nav-link-mega').forEach(btn => {
      btn.setAttribute('aria-expanded', 'false');
    });
  });
});
</script>

<script>
(function () {

  document.getElementById('year').textContent = new Date().getFullYear();

  const postsEl = document.getElementById('posts');
  const qInput  = document.getElementById('q');
  const chips   = document.querySelectorAll('.chip');

  let currentQuery = '';
  let currentCategory = 'all';

  async function loadNews() {
    const currentLang = localStorage.getItem('language') || 'ar';
    const loadingText = currentLang === 'ar' ? 'Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„â€¦' : 'Loadingâ€¦';
    const noNewsText = currentLang === 'ar' ? 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø¨Ø§Ø±.' : 'No news found.';
    const errorText = currentLang === 'ar' ? 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±.' : 'Failed to load news.';
    const readMoreText = currentLang === 'ar' ? 'Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯ â†' : 'Read More â†’';

    postsEl.innerHTML = `<div class="muted">${loadingText}</div>`;

    try {
      let items;

      if (currentQuery || currentCategory !== 'all') {
        items = await KhotwaAPI.searchNews(
          currentQuery,
          currentCategory === 'all' ? null : currentCategory,
          'newest'
        );
      } else {
        items = await KhotwaAPI.getNews();
      }

      postsEl.innerHTML = '';

      if (!items || items.length === 0) {
        postsEl.innerHTML = `<div class="muted">${noNewsText}</div>`;
        return;
      }

      items.forEach(item => {
        const article = document.createElement('article');
        article.className = 'post';
        article.style.cursor = 'pointer';
        article.style.transition = 'transform 0.2s ease, box-shadow 0.2s ease';

        const title = currentLang === 'en' ? (item.titleEn || item.titleAr || '') : (item.titleAr || item.titleEn || '');
        const content = currentLang === 'en' ? (item.contentEn || item.contentAr || '') : (item.contentAr || item.contentEn || '');
        
        article.innerHTML = `
          ${item.imageUrl ? `<img src="${item.imageUrl}" alt="${title}" style="width:100%;height:auto;border-radius:8px">` : ''}
          <div class="body">
            <h3>${title}</h3>
            <p class="muted">${content.substring(0,150)}${content.length > 150 ? '...' : ''}</p>
            <span style="color: #10b981; font-weight: 600; font-size: 0.9rem;">${readMoreText}</span>
          </div>
        `;

        article.addEventListener('click', () => {
          window.location.href = `/news-detail.html?id=${item.id}`;
        });

        article.addEventListener('mouseenter', () => {
          article.style.transform = 'translateY(-4px)';
          article.style.boxShadow = '0 8px 24px rgba(0, 0, 0, 0.12)';
        });

        article.addEventListener('mouseleave', () => {
          article.style.transform = 'translateY(0)';
          article.style.boxShadow = '';
        });

        postsEl.appendChild(article);
      });

    } catch (err) {
      console.error(err);
      postsEl.innerHTML = `<div class="muted">${errorText}</div>`;
    }
  }

  qInput.addEventListener('input', e => {
    currentQuery = e.target.value.trim();
    loadNews();
  });

  chips.forEach(btn => {
    btn.addEventListener('click', () => {
      chips.forEach(b => b.dataset.active = 'false');
      btn.dataset.active = 'true';
      currentCategory = btn.dataset.filter;
      loadNews();
    });
  });

  loadNews();

  // Update placeholder on language change
  window.addEventListener('storage', (e) => {
    if (e.key === 'language') {
      const currentLang = e.newValue || 'ar';
      qInput.placeholder = currentLang === 'ar' ? 'Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±â€¦' : 'Search newsâ€¦';
      loadNews();
    }
  });

})();
</script>

<script src="/assets/feedback.js"></script>

  <script src="/assets/admin-button.js"></script>
  <script src="/assets/feedback-button.js"></script>
    <script src="js/config.js"></script>
    <script src="js/settings-loader.js"></script>
    <script src="/js/language-toggle.js"></script>
<script src="js/menu-toggle.js"></script>
  <script src="/assets/site-settings-loader.js"></script>
</body>
</html>
