<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>الرئيسية – مجلس طلاب خطوة</title>
  
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/design-system.css">
  <link rel="stylesheet" href="/assets/khotwa-redesign.css">
  <link rel="stylesheet" href="/assets/enhanced-navbar.css">

  <script>
    window.KHOTWA_CONFIG = {
      API_BASE: 'https://khotwabknd-gj8oeubw.manus.space/api/trpc'
    };
  </script>

  <style>
    :root { --primary: #1e40af; --ring: #e2e8f0; }
    .hero { padding: 8rem 0; background: radial-gradient(circle at top right, #f8fafc, #e2e8f0); text-align: center; border-bottom: 1px solid var(--ring); }
    .hero h1 { font-size: clamp(2.5rem, 5vw, 4rem); color: var(--primary); font-weight: 800; margin-bottom: 1.5rem; }
    .hero p { font-size: 1.25rem; color: #64748b; max-width: 800px; margin: 0 auto 2.5rem; line-height: 1.8; }
    .cta-buttons { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
    .btn-main { padding: 1rem 2.5rem; border-radius: 14px; text-decoration: none; font-weight: 700; transition: 0.3s; }
    .btn-primary { background: var(--primary); color: white; }
    .btn-secondary { background: white; color: var(--primary); border: 2px solid var(--primary); }
    .stats-section { padding: 4rem 0; background: white; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; text-align: center; }
    .stat-item h2 { font-size: 3rem; color: var(--primary); font-weight: 800; }
    .main-footer { background: white; border-top: 1px solid #e2e8f0; padding: 4rem 0 2rem; }
    .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; }
    [hidden] { display: none !important; }

    /* تنسيق إضافي لزر القائمة في الجوال لضمان ظهوره */
    .menu-toggle { display: none; background: none; border: none; cursor: pointer; color: var(--primary); }
    @media (max-width: 768px) {
      .menu-toggle { display: block; }
      .nav-links { display: none; flex-direction: column; position: absolute; top: 100%; left: 0; right: 0; background: white; padding: 1rem; border-bottom: 1px solid var(--ring); }
      .nav-links.active { display: flex; }
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <div class="container nav-inner">
      <a class="brand" href="/index.html">
        <img src="/apple-touch-icon.png" class="logo" alt="Logo">
        <span data-lang="ar">مجلس طلاب خطوة</span>
        <span data-lang="en" hidden>Khotwa Council</span>
      </a>

      <button class="menu-toggle" id="menu-btn" aria-label="Menu">
        <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>

      <div class="nav-links" id="nav-menu">
        <a href="/index.html" class="active"><span data-lang="ar">الرئيسية</span><span data-lang="en" hidden>Home</span></a>
        <a href="/news.html"><span data-lang="ar">الأخبار</span><span data-lang="en" hidden>News</span></a>
        <a href="/events.html"><span data-lang="ar">الفعاليات</span><span data-lang="en" hidden>Events</span></a>
        <button class="lang-toggle" id="lang-toggle"><span data-lang="ar">English</span><span data-lang="en" hidden>عربي</span></button>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div class="container">
      <h1 data-lang="ar">أهلاً بك في مجلس خطوة</h1>
      <h1 data-lang="en" hidden>Welcome to Khotwa Council</h1>
      <p data-lang="ar">البيت الجامعي لطلاب برنامج خطوة في ملبورن.</p>
      <p data-lang="en" hidden>The home for Khotwa students in Melbourne.</p>
      <div class="cta-buttons">
        <a href="/events.html" class="btn-main btn-primary">
          <span data-lang="ar">استكشف الفعاليات</span><span data-lang="en" hidden>Explore Events</span>
        </a>
        <a href="/about.html" class="btn-main btn-secondary">
          <span data-lang="ar">تعرف علينا</span><span data-lang="en" hidden>About Us</span>
        </a>
      </div>
    </div>
  </header>

  <section class="stats-section">
    <div class="container stats-grid">
      <div class="stat-item">
        <h2 id="count1">+50</h2>
        <p data-lang="ar">فعالية</p><p data-lang="en" hidden>Events</p>
      </div>
      <div class="stat-item">
        <h2 id="count2">+200</h2>
        <p data-lang="ar">طالب</p><p data-lang="en" hidden>Students</p>
      </div>
      <div class="stat-item">
        <h2 id="count3">100%</h2>
        <p data-lang="ar">دعم</p><p data-lang="en" hidden>Support</p>
      </div>
    </div>
  </section>

  <footer class="main-footer">
    <div class="container footer-grid">
      <div class="footer-col">
        <h4 data-lang="ar">مجلس طلاب خطوة</h4><h4 data-lang="en" hidden>Khotwa Council</h4>
        <p data-lang="ar">تمثيل الطلاب في ملبورن، أستراليا.</p>
        <p data-lang="en" hidden>Representing students in Melbourne, Australia.</p>
      </div>
      <div class="footer-col">
        <h4 data-lang="ar">تابعنا</h4><h4 data-lang="en" hidden>Follow Us</h4>
        <a href="https://instagram.com/khotwa.sc" target="_blank">
          <img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg" width="24" height="24" alt="Instagram">
        </a>
      </div>
    </div>
  </footer>

  <script src="/assets/push-notifications.js"></script>
  <script src="/assets/comments-and-registration.js"></script>
  <script src="/js/menu-toggle.js"></script>

  <script>
    // 1. نظام القائمة في الجوال
    const menuBtn = document.getElementById('menu-btn');
    const navMenu = document.getElementById('nav-menu');
    if (menuBtn) {
      menuBtn.addEventListener('click', () => {
        navMenu.classList.toggle('active');
      });
    }

    // 2. نظام تبديل اللغة
    const langToggle = document.getElementById('lang-toggle');
    const updateLang = (lang) => {
      document.documentElement.lang = lang;
      document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
      document.querySelectorAll('[data-lang]').forEach(el => {
        el.hidden = el.getAttribute('data-lang') !== lang;
      });
      localStorage.setItem('khotwa_lang', lang);
    };

    langToggle.addEventListener('click', () => {
      const newLang = document.documentElement.lang === 'ar' ? 'en' : 'ar';
      updateLang(newLang);
    });

    // 3. التحميل الأولي
    document.addEventListener('DOMContentLoaded', () => {
      updateLang(localStorage.getItem('khotwa_lang') || 'ar');
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js');
      }
    });
  </script>
</body>
</html>
