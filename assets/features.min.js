!function(){"use strict";function t(){const t=document.getElementById("q");t&&t.addEventListener("input",function(t,e){let n;return function(...a){const o=()=>{clearTimeout(n),t(...a)};clearTimeout(n),n=setTimeout(o,e)}}(function(t){const e=t.target.value.toLowerCase().trim(),n=document.querySelectorAll("[data-searchable]");if(!e)return void n.forEach(t=>{t.style.display="",t.classList.remove("search-highlight")});let a=0;n.forEach(t=>{const n=t.textContent.toLowerCase().includes(e);t.style.display=n?"":"none",n?(t.classList.add("search-highlight"),a++):t.classList.remove("search-highlight")}),function(t){let e=document.getElementById("search-results-msg");if(!e){e=document.createElement("div"),e.id="search-results-msg",e.className="search-results-msg";const t=document.getElementById("q");t&&t.parentNode.insertBefore(e,t.nextSibling)}0===t?(e.innerHTML='<p class="muted">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬</p>',e.style.display="block"):e.style.display="none"}(a)},300))}async function e(){try{const t=await fetch("/data/events.json"),e=await t.json(),n=new Date,a=new Date(n.getTime()+2592e5),o=e.items.filter(t=>{const e=new Date(t.date);return e>n&&e<=a});o.length>0&&!localStorage.getItem("events_notified")&&function(t){const e=document.createElement("div");e.className="event-notification",e.innerHTML=`\n      <div class="notification-content">\n        <button class="notification-close" aria-label="Ø¥ØºÙ„Ø§Ù‚">Ã—</button>\n        <h3>ğŸ‰ ÙØ¹Ø§Ù„ÙŠØ§Øª Ù‚Ø§Ø¯Ù…Ø©!</h3>\n        <p>Ù„Ø¯ÙŠÙƒ ${t.length} ÙØ¹Ø§Ù„ÙŠØ© Ù‚Ø§Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</p>\n        <a href="/events.html" class="btn btn-primary btn-sm">Ø¹Ø±Ø¶ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</a>\n      </div>\n    `,document.body.appendChild(e),e.querySelector(".notification-close").addEventListener("click",()=>{e.remove(),localStorage.setItem("events_notified",Date.now())}),setTimeout(()=>{e.parentNode&&e.remove()},1e4)}(o)}catch(t){console.error("Error checking events:",t)}}function n(t){const e=new Date(t.date),n=new Date(e.getTime()+72e5),a=t=>t.toISOString().replace(/-|:|\.\d+/g,""),o=`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:t.title||t.title_ar,dates:`${a(e)}/${a(n)}`,details:t.summary||t.body||"",location:t.location||t.location_ar||"",sf:"true",output:"xml"}).toString()}`;window.open(o,"_blank")}function a(){document.addEventListener("click",function(t){const e=t.target.closest(".share-btn");if(!e)return;const n=e.dataset.platform,a=e.dataset.url;if("copy"===n){const t=window.location.href;navigator.clipboard.writeText(t).then(()=>{const t=e.innerHTML;e.innerHTML="<span>âœ“ ØªÙ… Ø§Ù„Ù†Ø³Ø®</span>",setTimeout(()=>{e.innerHTML=t},2e3)})}else window.open(a,"_blank","width=600,height=400")}),t(),document.addEventListener("click",function(t){const e=t.target.closest(".add-to-calendar");if(e)try{n(JSON.parse(e.dataset.event))}catch(t){console.error("Error adding to calendar:",t)}});const a=localStorage.getItem("events_notified"),o=Date.now()-864e5;(!a||parseInt(a)<o)&&e()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.KhotwaFeatures={createShareButtons:function(t,e,n){const a=encodeURIComponent(e),o=encodeURIComponent(t);return encodeURIComponent(n||t),`\n      <div class="share-buttons" role="group" aria-label="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„">\n        <button class="share-btn share-twitter" data-platform="twitter" \n                data-url="https://twitter.com/intent/tweet?text=${o}&url=${a}"\n                title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Twitter">\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">\n            <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>\n          </svg>\n          <span data-lang="ar">ØªÙˆÙŠØªØ±</span>\n          <span data-lang="en" hidden>Twitter</span>\n        </button>\n        \n        <button class="share-btn share-facebook" data-platform="facebook"\n                data-url="https://www.facebook.com/sharer/sharer.php?u=${a}"\n                title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ Facebook">\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">\n            <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/>\n          </svg>\n          <span data-lang="ar">ÙÙŠØ³Ø¨ÙˆÙƒ</span>\n          <span data-lang="en" hidden>Facebook</span>\n        </button>\n        \n        <button class="share-btn share-whatsapp" data-platform="whatsapp"\n                data-url="https://wa.me/?text=${o}%20${a}"\n                title="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ WhatsApp">\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">\n            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>\n          </svg>\n          <span data-lang="ar">ÙˆØ§ØªØ³Ø§Ø¨</span>\n          <span data-lang="en" hidden>WhatsApp</span>\n        </button>\n        \n        <button class="share-btn share-copy" data-platform="copy" title="Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·">\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>\n            <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>\n          </svg>\n          <span data-lang="ar">Ù†Ø³Ø®</span>\n          <span data-lang="en" hidden>Copy</span>\n        </button>\n      </div>\n    `},createCalendarButton:function(t){return`\n      <button class="btn btn-outline btn-sm add-to-calendar" \n              data-event='${JSON.stringify(t)}'\n              title="Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Google Calendar">\n        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>\n          <line x1="16" y1="2" x2="16" y2="6"/>\n          <line x1="8" y1="2" x2="8" y2="6"/>\n          <line x1="3" y1="10" x2="21" y2="10"/>\n        </svg>\n        <span data-lang="ar">Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØªÙ‚ÙˆÙŠÙ…</span>\n        <span data-lang="en" hidden>Add to Calendar</span>\n      </button>\n    `},addToGoogleCalendar:n,checkUpcomingEvents:e}}();