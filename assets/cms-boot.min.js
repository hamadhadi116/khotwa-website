!function(){const t="en"===localStorage.getItem("khotwa_lang")?"en":"ar";async function e(t,e){try{const e=await fetch(`/data/${t}`,{cache:"no-cache"});if(!e.ok)throw 0;return await e.json()}catch{return e}}function n(t){t?.siteName&&(document.title=document.title||t.siteName);const e=document.querySelector("footer .muted");if(e){const n='<span id="year"></span>',r=String(t?.footer?.copyright||"Khotwa Student Council"||"").replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[t]));e.innerHTML=`Â© ${n} ${r}`;const o=e.querySelector("#year");o&&(o.textContent=(new Date).getFullYear())}const n=document.querySelector('footer a[href*="instagram.com"]');n&&t?.social?.instagram&&(n.href=t.social.instagram)}!async function(){const r=await e("settings.json",null),o=await e("navigation.json",null);r&&n(r),o&&function(t){if(!Array.isArray(t))return;const e=t.filter(t=>!1!==t.visible).sort((t,e)=>(t.order||0)-(e.order||0)),n=document.querySelector(".nav-links");if(!n)return;const r=Array.from(n.querySelectorAll("a")).filter(t=>!t.querySelector("#lang-toggle"));for(let t=0;t<r.length;t++){const n=r[t],o=e[t];if(!o){n.style.display="none";continue}n.style.display="",n.href=o.href||n.getAttribute("href")||"#";let a=n.querySelector('[data-lang="ar"]'),c=n.querySelector('[data-lang="en"]');a&&(a.textContent=o.ar||a.textContent||""),c&&(c.textContent=o.en||c.textContent||"");try{const t=location.pathname.replace(/\/+$/,""),e=new URL(n.href,location.origin).pathname.replace(/\/+$/,"");n.removeAttribute("aria-current"),t===e&&n.setAttribute("aria-current","page")}catch{}}}(o),document.documentElement.lang="en"===t?"en":"ar",document.documentElement.dir="en"===t?"ltr":"rtl"}()}();